var getUrlParameter=function(e){var t,a,n=window.location.search.substring(1).split("&");for(a=0;a<n.length;a++)if((t=n[a].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])},ps1=$("#inputPassword"),ps2=$("#inputPassword-1"),msjP=$("#mensajeP"),msjS=$("#mensajeS");$("#inputPassword").on("keyup",(function(){$("#mensajeP").text(""),ps1.val().length<8&&msjP.text("La contraseña debe tener al menos 8 dígitos"),ps1.val().match("(?=.*?[0-9])")||msjP.text("La contraseña debe tener mínimo un número"),ps1.val().match("(?=.*?[A-Z])")||msjP.text("La contraseña debe tener mínimo una mayúscula"),ps1.val().match("(?=.*?[a-z])")||msjP.text("La contraseña debe tener mínimo una minúscula"),ps1.val().includes(" ")&&msjP.text("La contraseña no debe contener espacios")})),$("#inputPassword-1").on("keyup",(function(){$("#mensajeS").text(""),ps1.val()!=ps2.val()&&$("#mensajeS").text("Las contraseñas no coinciden")})),$(document).on("submit","#loginForm",(function(e){e.preventDefault(),$("#inputPassword").val()==$("#inputPassword-1").val()?($.ajax({url:direccionAPI+"/contrasena/"+getUrlParameter("token"),type:$(this).attr("method"),data:$(this).serialize(),dataType:"json",success:function(e,t,a){window.location.replace("/app/login")},error:function(e,t){$("#errorMD").modal("show"),grecaptcha.execute("6Ld_zQEVAAAAABBSckt82-ue84VpZKyK7JJ8oqHH",{action:"/"}).then((function(e){document.getElementById("recaptchaResponse").value=e}))}}),e.preventDefault()):$("contrasenasMD").modal("show")}));