var getUrlParameter=function(e){var n,t,o=window.location.search.substring(1).split("&");for(t=0;t<o.length;t++)if((n=o[t].split("="))[0]===e)return void 0===n[1]||decodeURIComponent(n[1])},ps1=$("#inputPassword"),ps2=$("#inputPassword-1"),msjP=$("#mensajeP"),msjS=$("#mensajeS"),token=getUrlParameter("token");$.get(direccionAPI+"/login/verificar/recuperar/"+token,(function(e){})).fail((function(){$("#errorTokenMD").modal("show")})),$("#inputPassword").on("keyup",(function(){$("#mensajeP").text(""),ps1.val().length<8&&msjP.text("La contraseña debe tener al menos 8 dígitos")})),$("#inputPassword-1").on("keyup",(function(){$("#mensajeS").text(""),ps1.val()!=ps2.val()&&$("#mensajeS").text("Las contraseñas no coinciden")})),$(document).on("submit","#loginForm",(function(e){e.preventDefault(),$("#inputPassword").val()==$("#inputPassword-1").val()?($.ajax({url:direccionAPI+"/contrasena/"+token,type:$(this).attr("method"),data:$(this).serialize(),dataType:"json",success:function(e,n,t){window.location.replace("/app/login")},error:function(e,n){$("#errorMD").modal("show"),grecaptcha.execute("6Ld_zQEVAAAAABBSckt82-ue84VpZKyK7JJ8oqHH",{action:"/"}).then((function(e){document.getElementById("recaptchaResponse").value=e}))}}),e.preventDefault()):$("contrasenasMD").modal("show")}));